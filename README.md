# Проєкт "Генерація міста з оптимізацією пам'яті"

## Опис завдаення
Цей проєкт демонструє використання шаблону проектування **Flyweight** для створення великого міста з різними будівлями, які мають спільні характеристики. Шаблон дозволяє мінімізувати дублювання даних і ефективно використовувати пам'ять, що є важливим для ігор із великою кількістю об'єктів.

---

UML-діаграма 
![Image alt](https://github.com/creonluv/patterns-exam/blob/main/sample-Flyweight_City_Simulation.png)

## Основні компоненти

### Flyweigh
- **BuildingFlyweight (Інтерфейс)**  
  Декларує метод `display(Graphics g, int x, int y)` для відображення будівлі.

- **ConcreteBuildingFlyweight**  
  Реалізує `BuildingFlyweight`, зберігає внутрішній стан (назва, текстура, колір) і відповідає за спільні характеристики будівель.

### Контекст
- **BuildingContext**  
  Зберігає зовнішній стан (координати будівлі) і Flyweight. Відповідає за передачу зовнішнього стану в Flyweight.

### Фабрика Flyweight
- **BuildingFactory**  
  Відповідає за створення та повторне використання Flyweight. Зберігає унікальні типи будівель у мапі.

### Менеджер міста
- **City**  
  Керує списком будівель (`BuildingContext`) та забезпечує їх рендеринг.

---

## Конфігураційні класи

### Flyweight
- **ConcreteBuildingFlyweight**  
  Внутрішній стан:
  - `name`: назва будівлі.
  - `texture`: текстура будівлі.
  - `color`: колір будівлі.  

### Контекст
- **BuildingContext**  
  Зовнішній стан:
  - `x, y`: координати будівлі.
  - `flyweight`: спільний Flyweight для даної будівлі.

### Фабрика
- **BuildingFactory**  
  Зберігає об'єкти Flyweight у мапі `Map<String, BuildingFlyweight>`.

---

## Реалізація патерну Flyweight:
1. **Розділення стану**:
   - Спільний стан (назва, текстура, колір) зберігається у Flyweight.
   - Унікальний стан (координати) передається через контекст.

2. **Оптимізація пам'яті**:
   - Однакові будівлі мають спільний об'єкт Flyweight, що зменшує дублювання даних.

3. **Factory**:
   - Забезпечує повторне використання Flyweight через мапу.

---

## Логіка програми

1. **Створення будівель**:
   - Будівлі одного типу створюються через `BuildingFactory`, що забезпечує унікальність Flyweight.

2. **Рендеринг**:
   - Контекст (`BuildingContext`) викликає метод `display` у Flyweight, передаючи координати.

3. **Візуалізація**:
   - Використовується Swing для відображення міста у вікні.

---

## Ресурси
1. **BuildingFlyweight**: Інтерфейс для Flyweight.
2. **ConcreteBuildingFlyweight**: Реалізація Flyweight.
3. **BuildingContext**: Контекст для зовнішнього стану.
4. **BuildingFactory**: Фабрика для управління Flyweight.
5. **City**: Менеджер для створення і відображення міста.
6. **CityApp**: Головний клас для запуску програми.
